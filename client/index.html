<canvas  id="ctx" width="800" height="800" style="border:5px solid rgb(117, 209, 12); transition: all ease-in-out 5s;"></canvas>

<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script>
    var ctx = document.getElementById("ctx"). 
    getContext("2d")
    ctx.font = '30px Arial'
    

    var socket = io()

    socket.on('newPositions',function(data){
        console.log(data)
        ctx.clearRect(0,0,800,800)
        for(var i = 0 ; i < data.length; i++){
            ctx.fillText(data[i].number,data[i].x,data[i].y)
        }
    })

    document.onkeydown = function(event){
        if(event.keyCode === 68)
            socket.emit('keyPress',{inputId:'right',state:true})
        else if(event.keyCode === 87)
            socket.emit('keyPress',{inputId:'down',state:true})
        else if(event.keyCode === 65)
            socket.emit('keyPress',{inputId:'left',state:true})
        else if(event.keyCode === 83) 
            socket.emit('keyPress',{inputId:'up',state:true})
    }

    document.onkeyup = function(event){
        if(event.keyCode === 68)
            socket.emit('keyPress',{inputId:'right',state:false})
        else if(event.keyCode === 87)
            socket.emit('keyPress',{inputId:'down',state:false})
        else if(event.keyCode === 65)
            socket.emit('keyPress',{inputId:'left',state:false})
        else if(event.keyCode === 83) 
            socket.emit('keyPress',{inputId:'up',state:false})

    }
            

</script>